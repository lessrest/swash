pre-commit:
  parallel: true
  commands:
    fmt:
      run: gofmt -l -w . && git add -u
      skip:
        - merge
        - rebase
    vet:
      run: go vet ./...
    staticcheck:
      run: staticcheck ./...
    test-unit:
      run: go test ./pkg/... ./internal/...
    test-integration:
      run: make test-integration
